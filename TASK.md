# Backend Task: Implement Agent Management API

## Objective
Implement the missing REST API endpoints for **Agent Management** to support the existing frontend functionality.

## Context
The frontend has a fully implemented "Agent Management" interface that allows users to create, list, and delete AI agents. However, these features are currently failing because the backend endpoints return `404 Not Found`.

## Required Endpoints

### 1. Create Agent
- **Endpoint**: `POST /agents`
- **Description**: Creates a new AI agent configuration.
- **Request Body** (`application/json`):
  ```json
  {
    "name": "string",
    "vault_id": "string (UUID)",
    "system_prompt": "string"
  }
  ```
- **Response** (`200 OK`):
  ```json
  {
    "agent_id": "string (UUID)",
    "name": "string",
    "vault_id": "string (UUID)",
    "system_prompt": "string",
    "created_at": "string (ISO 8601 timestamp)"
  }
  ```

### 2. List Agents
- **Endpoint**: `GET /agents`
- **Query Parameters**:
  - `vault_id` (optional): If provided, filter agents that belong to this specific vault.
- **Response** (`200 OK`):
  ```json
  [
    {
      "agent_id": "string (UUID)",
      "name": "string",
      "vault_id": "string (UUID)",
      "system_prompt": "string",
      "created_at": "string (ISO 8601 timestamp)"
    }
  ]
  ```

### 3. Get Agent Details
- **Endpoint**: `GET /agents/{agent_id}`
- **Response** (`200 OK`):
  ```json
  {
    "agent_id": "string (UUID)",
    "name": "string",
    "vault_id": "string (UUID)",
    "system_prompt": "string",
    "created_at": "string (ISO 8601 timestamp)"
  }
  ```
- **Error** (`404 Not Found`): If agent does not exist.

### 4. Delete Agent
- **Endpoint**: `DELETE /agents/{agent_id}`
- **Response** (`200 OK`):
  ```json
  {
    "success": true,
    "message": "Agent deleted successfully"
  }
  ```

## Data Model (Reference)

The backend should store the following fields for an Agent:
- `agent_id`: Unique identifier (UUID).
- `name`: Display name of the agent.
- `vault_id`: The ID of the knowledge vault this agent is associated with.
- `system_prompt`: The specific instructions/personality for this agent.
- `created_at`: Timestamp of creation.

## Acceptance Criteria
1. The frontend "Create Agent" form successfully submits and creates an agent.
2. The "Agents" list in the dashboard correctly displays all created agents.
3. Filtering by `vault_id` works (used when viewing a specific vault).
4. Deleting an agent removes it from the list.
5. `curl` commands generated by the frontend for specific agents work correctly.

## Verification
You can verify the implementation using the provided frontend script:
```bash
cd frontend
node verify-agents.js
```
(Note: You may need to update the script to test creation/deletion once the endpoint exists).
